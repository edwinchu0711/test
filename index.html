<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebTransport 通話應用</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>WebTransport 通話應用</h1>
      <div class="status-bar">
        <span id="connectionStatus" class="status">未連接</span>
        <span id="transportType" class="transport-type">未知</span>
      </div>
    </header>

    <div class="join-container" id="joinContainer">
      <h2>加入通話</h2>
      <div class="form-group">
        <label for="roomIdInput">房間 ID:</label>
        <input type="text" id="roomIdInput" placeholder="輸入房間 ID 或留空自動生成">
      </div>
      <div class="form-group">
        <label for="displayNameInput">顯示名稱:</label>
        <input type="text" id="displayNameInput" placeholder="輸入您的名稱">
      </div>
      <button id="joinButton" class="primary-button">加入房間</button>
    </div>

    <div class="call-container hidden" id="callContainer">
      <div class="video-grid" id="videoGrid">
        <div class="video-item local">
          <video id="localVideo" autoplay muted playsinline></video>
          <div class="video-label">您</div>
        </div>
        <!-- 遠程視頻將動態添加 -->
      </div>

      <div class="controls">
        <button id="muteButton" class="control-button">
          <span class="icon">🎤</span>
        </button>
        <button id="videoButton" class="control-button">
          <span class="icon">📹</span>
        </button>
        <button id="hangupButton" class="control-button danger">
          <span class="icon">📞</span>
        </button>
      </div>
    </div>

    <div class="error-container hidden" id="errorContainer">
      <div class="error-message" id="errorMessage"></div>
      <button id="dismissErrorButton" class="secondary-button">確定</button>
    </div>
  </div>

  <!-- 載入 JavaScript 檔案 -->
  <script src="js/ui-manager.js"></script>
  <script src="js/media-processor.js"></script>
  <script src="js/connection.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
